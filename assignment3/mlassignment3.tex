%----------------------------------------------------------------------------------------
%	PACKAGES AND OTHER DOCUMENT CONFIGURATIONS
%----------------------------------------------------------------------------------------

\documentclass{article}

\usepackage[utf8]{inputenc}
\usepackage{amssymb}
\usepackage{amsmath}
\usepackage{float}
\usepackage{latexsym}
\usepackage{subcaption}
\usepackage{gensymb}
\usepackage{caption}
\usepackage{fancyhdr} % Required for custom headers
\usepackage{lastpage} % Required to determine the last page for the footer
\usepackage{extramarks} % Required for headers and footers
\usepackage[usenames,dvipsnames]{color} % Required for custom colors
\usepackage{graphicx} % Required to insert images
\usepackage{listings} % Required for insertion of code
\usepackage{courier} % Required for the courier font
\usepackage{lipsum} % Used for inserting dummy 'Lorem ipsum' text into the template
\usepackage{tabularx} % For nice tables

%%%% NEW
\usepackage{color}

\definecolor{mygreen}{rgb}{0,0.6,0}
\definecolor{mygray}{rgb}{0.5,0.5,0.5}
\definecolor{mymauve}{rgb}{0.58,0,0.82}

\lstset{ %
  backgroundcolor=\color{white},   % choose the background color; you must add \usepackage{color} or \usepackage{xcolor}
  basicstyle=\footnotesize,        % the size of the fonts that are used for the code
  breakatwhitespace=false,         % sets if automatic breaks should only happen at whitespace
  breaklines=true,                 % sets automatic line breaking
  captionpos=b,                    % sets the caption-position to bottom
  commentstyle=\color{mygreen},    % comment style
  deletekeywords={...},            % if you want to delete keywords from the given language
  escapeinside={\%*}{*)},          % if you want to add LaTeX within your code
  extendedchars=true,              % lets you use non-ASCII characters; for 8-bits encodings only, does not work with UTF-8
  frame=single,	                   % adds a frame around the code
  keepspaces=true,                 % keeps spaces in text, useful for keeping indentation of code (possibly needs columns=flexible)
  keywordstyle=\color{blue},       % keyword style
  language=Octave,                 % the language of the code
  otherkeywords={*,...},           % if you want to add more keywords to the set
  numbers=left,                    % where to put the line-numbers; possible values are (none, left, right)
  numbersep=5pt,                   % how far the line-numbers are from the code
  numberstyle=\tiny\color{mygray}, % the style that is used for the line-numbers
  rulecolor=\color{black},         % if not set, the frame-color may be changed on line-breaks within not-black text (e.g. comments (green here))
  showspaces=false,                % show spaces everywhere adding particular underscores; it overrides 'showstringspaces'
  showstringspaces=false,          % underline spaces within strings only
  showtabs=false,                  % show tabs within strings adding particular underscores
  stepnumber=2,                    % the step between two line-numbers. If it's 1, each line will be numbered
  stringstyle=\color{mymauve},     % string literal style
  tabsize=2,	                   % sets default tabsize to 2 spaces
  title=\lstname                   % show the filename of files included with \lstinputlisting; also try caption instead of title
}


%%%% NEW

% Margins%
\topmargin=-0.45in
\evensidemargin=0in
\oddsidemargin=0in
\textwidth=6.5in
\textheight=9.0in
\headsep=0.25in

\linespread{1.1} % Line spacing

% Set up the header and footer
\pagestyle{fancy}
\lhead{Header} % Top left header
\chead{}
\lfoot{\lastxmark} % Bottom left footer
\cfoot{} % Bottom center footer
\rfoot{Page\ \thepage} % Bottom right footer
\renewcommand\headrulewidth{0.4pt} % Size of the header rule
\renewcommand\footrulewidth{0.4pt} % Size of the footer rule

\setlength\parindent{16pt} % Removes all indentation from paragraphs

\setcounter{secnumdepth}{0} % Removes default section numbers

%----------------------------------------------------------------------------------------
% TITLE PAGE
%----------------------------------------------------------------------------------------

\title{
\vspace{1in}
\textmd{\textbf{Machine Learning - Assignment 3}} \\
%\textmd{Assignment 2 - Resubmission} \\
\author{Christoffer Thrys√∏e - dfv107}
}

%----------------------------------------------------------------------------------------

\begin{document}
\maketitle
% \tableofcontents
\pagenumbering{arabic}
\section{1. Summarization by the mean}
If we consider a set $S = \lbrace \mathbf{x}_1,...,\mathbf{x}_N$, we want to prove that:
\begin{equation}
\textsl{argmin}_{b \in \mathbb{R}^d} \dfrac{1}{N} \sum\limits_{i=1}^N ||\mathbf{x}_i-\mathbf{b}||^2
\label{eq:eq1}
\end{equation} 
is given by the empirical mean:
\begin{equation}
\mathbf{b} = \bar{\mathbf{x}} = \dfrac{1}{N} \sum\limits_{i=1}^N \mathbf{x_i}
\label{eq:eq2}
\end{equation}
First we write out the inner term:
\begin{equation*}
||\mathbf{x_i}-\mathbf{b}||^2 = \sqrt{\mathbf{x}_i^2-\mathbf{b}^2} ^2 = \left(\mathbf{x}_i - \mathbf{b} \right)^2
\end{equation*}
Since we want to find the value of $\mathbf{b}$ which minimizes equation \ref{eq:eq1}, we differentiate with respect to $\mathbf{b}$ and set the equation equal to zero:
\begin{align*}
0 &= \frac{\partial}{\partial \mathbf{b}} \left[
\dfrac{1}{N} \sum\limits_{i=1}^N \left(\mathbf{x_i}-\mathbf{b}\right)^2
\right] \Rightarrow \\
0 &= \dfrac{1}{N} \sum\limits_{i=1}^N -2 \left(\mathbf{x_i}-\mathbf{b}\right) \Rightarrow \\
0 &= \dfrac{1}{N} \sum\limits_{i=1}^N -2\mathbf{x_i} + 2\mathbf{b} \Rightarrow \\
\dfrac{2\mathbf{b}}{2} &= \dfrac{\dfrac{1}{N} \sum\limits_{i=1}^N 2\mathbf{x_i}}{2} \Rightarrow \\
\mathbf{b} &= \dfrac{1}{N} \sum\limits_{i=1}^N \mathbf{x_i}
\end{align*}
Thus completing the proof that equation \ref{eq:eq1} is given by the empirical mean, showed in equation \ref{eq:eq2}.
\subsection{2. PCA for high dimensional data and small
samples}
The covariance matrix is defined as followed:
\begin{equation}
\mathbf{S} = \mathbf{X_0^T} \mathbf{X_0}
\end{equation}
we want to show that if $\mathbf{v}$ is an eigenvector of $ \mathbf{X}_0 \mathbf{X}_0^T$ with eigenvalue $\lambda$ then $\mathbf{X}_0^T\mathbf{v}$ is an eigenvector of $\mathbf{S}$ with eigenvalue $\lambda$. \\
Given the above we can write the relationship between the matrix, eigenvalue and eigenvector as
\begin{equation}
\mathbf{X}_0 \mathbf{X}_0^T \mathbf{v} = \lambda \mathbf{v}
\label{eq:3}
\end{equation}
If we multiply $X_0^T$ from the left, and noting the definition of $\mathbf{S}$ we get the following:
\begin{align}
\mathbf{X}_0^T \mathbf{X}_0 \mathbf{X}_0^T \mathbf{v} &= \mathbf{X}_0^T \lambda \mathbf{v} \Rightarrow \\
\mathbf{S} \mathbf{X}_0^T \mathbf{v} &= \lambda \mathbf{X}_0^T  \mathbf{v}
\label{eq:4}
\end{align}
comparing equation \ref{eq:3} and \ref{eq:4} $\mathbf{X}_0^T \mathbf{v}$ is the eigenvector with eigenvalues $\lambda$, thus completing the proof.
\section{3. The Traffic Sign Recognition Data}
\subsection{3.1 Data understanding and preprocessing}
The plotting function is located in the file \texttt{understanding.py}.The program works by splitting the dataset into features, i.e. pictures consisting of 1568 pixel values, and target values, i.e. traffic sign.
%TODO input picture
\subsection{3.2. Principal component analysis}
\subsection{3.3. Clustering}

\end{document}
